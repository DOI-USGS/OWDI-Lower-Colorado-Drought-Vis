<div class="widget">
	<div id="meadSVGContainer">
		<h2>Mead SVG Dealio</h2>
		<object id="mead-object" data="img/lo_CO_borders.svg" type="image/svg+xml" onload="window.owdiDrought.create()"></object>
	</div>
    
    <div class="SVGInfo" id="info1">
    	<p>Suspendisse fermentum convallis porttitor. Interdum et malesuada fames ac ante ipsum primis in faucibus. Proin condimentum dictum justo a dapibus. Praesent nec libero nec ipsum ultricies posuere. Duis in pretium est. Etiam gravida pulvinar tellus vitae finibus</p>
    </div>
    
    <div class="SVGInfo" id="info2">
    	<p>Nunc cursus et diam quis eleifend. Cras venenatis velit quis mattis pulvinar. Cras hendrerit id erat at consequat. Aenean quis interdum leo. Nullam eget massa ultrices magna condimentum interdum.</p>
    </div>
    
</div>

<script>
	(function() {
		owdiDrought.meadObjectSVG = null;
		
		owdiDrought.create = function () {
			new ScrollMagic.Scene({
				triggerElement: '#meadSVGContainer', duration: 100
			})
			.on("enter", function (e) {
				meadObject();
			})
			.addTo(window.owdiDrought.SMController);
			
			var a = document.getElementById('mead-object');
			var meadObject = function(){ 
				owdiDrought.meadObjectSVG = a.getSVGDocument();
			}
		};
		
		//Draw River
		new ScrollMagic.Scene({
			triggerElement: '#container16',
			duration: 300,
                        
		})
		.on("start", function (e) {
                    if (e.scrollDirection === "FORWARD") {
						$('#info1').fadeIn('slow');
                        owdiDrought.meadObjectSVG.drawRiver();
                    }else {
						$('#info1').fadeOut('slow');
                        owdiDrought.meadObjectSVG.resetRiver();	
                    }
                })
				
		.on("end", function(e){
			if(e.scrollDirection === "FORWARD"){
				$('#info1').fadeOut("slow");
			}else{
				$('#info1').fadeIn("slow");
				}
		})    
		.offset(200)
		.setPin('#container16')
		.addTo(window.owdiDrought.SMController)
		.addIndicators();
		
		//Draw Basin
		new ScrollMagic.Scene({
			triggerElement: '#container16',
			duration: 300
		})
		.on("start", function (e) {
                    if (e.scrollDirection === "FORWARD") {
						$('#info2').fadeIn('slow');
                        owdiDrought.meadObjectSVG.drawBasin();
                    }
                    else {
						$('#info2').fadeOut('slow');
                        owdiDrought.meadObjectSVG.resetBasin(); 
                    }
				
			})
			
		.on("end", function(e){
			if(e.scrollDirection === "FORWARD"){
				$('#info2').fadeOut("slow");
			}else{
				$('#info2').fadeIn("slow");
				}
			})    
		.offset(500)
		.setPin('#container16')
		.addTo(window.owdiDrought.SMController)
		.addIndicators();
		
		//Draw Pictogram
		new ScrollMagic.Scene({
			triggerElement: '#container16',
			duration: 300
		})
		.on("start", function (e) {
                    if (e.scrollDirection === "FORWARD") {
                        owdiDrought.meadObjectSVG.drawPictogram();
                    }
                    else {
                        owdiDrought.meadObjectSVG.removePictogram();
                    }
			})
		.offset(800)
		.setPin('#container16')
		.addTo(window.owdiDrought.SMController)
		.addIndicators();
		
                //highlight user 1
		new ScrollMagic.Scene({
			triggerElement: '#container16',
			duration: 300
		})
		.on("start", function (e) {
                    if (e.scrollDirection === "FORWARD") {
                        owdiDrought.meadObjectSVG.highlightUser(1);
                    }
                    else {
                    }
				
			})
		.offset(1100)
		.setPin('#container16')
		.addTo(window.owdiDrought.SMController)
		.addIndicators();
        
                //highlight user 2
		new ScrollMagic.Scene({
			triggerElement: '#container16',
			duration: 300
		})
		.on("start", function (e) {
                    if (e.scrollDirection === "FORWARD") {
                        owdiDrought.meadObjectSVG.highlightUser(2);
                    }
                    else {
                    }
				
			})
		.offset(1400)
		.setPin('#container16')
		.addTo(window.owdiDrought.SMController)
		.addIndicators();
        
                //highlight user 3
		new ScrollMagic.Scene({
			triggerElement: '#container16',
			duration: 300
		})
		.on("start", function (e) {
                    if (e.scrollDirection === "FORWARD") {
                        owdiDrought.meadObjectSVG.highlightUser(3);
                    }
                    else {
                    }
				
			})
		.offset(1700)
		.setPin('#container16')
		.addTo(window.owdiDrought.SMController)
		.addIndicators();
        
                //highlight user 4
		new ScrollMagic.Scene({
			triggerElement: '#container16',
			duration: 300
		})
		.on("start", function (e) {
                    if (e.scrollDirection === "FORWARD") {
                        owdiDrought.meadObjectSVG.highlightUser(4);
                    }
                    else {
                    }
				
			})
		.offset(2000)
		.setPin('#container16')
		.addTo(window.owdiDrought.SMController)
		.addIndicators();
        
                //highlight user 5
		new ScrollMagic.Scene({
			triggerElement: '#container16',
			duration: 300
		})
		.on("start", function (e) {
                    if (e.scrollDirection === "FORWARD") {
                        owdiDrought.meadObjectSVG.highlightUser(5);
                    }
                    else {
                    }
				
			})
		.offset(2300)
		.setPin('#container16')
		.addTo(window.owdiDrought.SMController)
		.addIndicators();
		//Remove GreyStates, River, Pictogram
		new ScrollMagic.Scene({
			triggerElement: '#container16',
			duration: 300
		})
		.on("start", function (e) {
                    if (e.scrollDirection === "FORWARD") {
                        owdiDrought.meadObjectSVG.removeGreyStates();
			owdiDrought.meadObjectSVG.removeRiver();
			owdiDrought.meadObjectSVG.removePictogram();
                    }
                    else {
                        owdiDrought.meadObjectSVG.resetGreyStates();
                        owdiDrought.meadObjectSVG.drawPictogram();
                        owdiDrought.meadObjectSVG.drawBasin();
                        owdiDrought.meadObjectSVG.showRiver();
                    }
				
			})
		.offset(2600)
		.setPin('#container16')
		.addTo(window.owdiDrought.SMController)
		.addIndicators();
		
		//Move States
		new ScrollMagic.Scene({
			triggerElement: '#container16',
			duration: 300
		})
		.on("start", function (e) {
                    if (e.scrollDirection === "FORWARD") {
                        owdiDrought.meadObjectSVG.moveStates();
                        owdiDrought.meadObjectSVG.drawMead();
                    }
                    else {
                        owdiDrought.meadObjectSVG.resetStates();
                        owdiDrought.meadObjectSVG.removeMead();
                    }
			})
		.offset(2900)
		.setPin('#container16')
		.addTo(window.owdiDrought.SMController)
		.addIndicators()
			
	})();
</script>