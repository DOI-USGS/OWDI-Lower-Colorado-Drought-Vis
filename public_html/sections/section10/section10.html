
<div class="widget">
	<div id="meadSVGContainer">
		<h2>Mead SVG Dealio</h2>
		<object id="mead-object" data="img/lo_CO_borders.svg" type="image/svg+xml" onload="window.owdiDrought.create()"></object>
	</div>
</div>

<script>
	(function() {
		owdiDrought.meadObjectSVG = null;
		
		owdiDrought.create = function () {
			new ScrollMagic.Scene({
				triggerElement: '#meadSVGContainer', duration: 100
			})
			.on("enter", function (e) {
				meadObject();
			})
			.addTo(window.owdiDrought.SMController);
			
			var a = document.getElementById('mead-object');
			var meadObject = function(){ 
				owdiDrought.meadObjectSVG = a.getSVGDocument();
			}
		};
		
		//Draw River
		new ScrollMagic.Scene({
			triggerElement: '#container10',
			duration: 600,
                        
		})
		.on("start", function (e) {
                    if (e.scrollDirection === "FORWARD") {
                        owdiDrought.meadObjectSVG.drawRiver();
                    }
                    else {
                        owdiDrought.meadObjectSVG.resetRiver(); 
                    }
                })       
		.offset(500)
		.setPin('#container10')
		.addTo(window.owdiDrought.SMController)
		.addIndicators();
		
		//Draw Basin
		new ScrollMagic.Scene({
			triggerElement: '#container10',
			duration: 600
		})
		.on("start", function (e) {
                    if (e.scrollDirection === "FORWARD") {
                        owdiDrought.meadObjectSVG.drawBasin();
                    }
                    else {
                        owdiDrought.meadObjectSVG.resetBasin(); 
                    }
				
			})
		.offset(1100)
		.setPin('#container10')
		.addTo(window.owdiDrought.SMController)
		.addIndicators();
		
		//Draw Pictogram
		new ScrollMagic.Scene({
			triggerElement: '#container10',
			duration: 600
		})
		.on("start", function (e) {
                    if (e.scrollDirection === "FORWARD") {
                        owdiDrought.meadObjectSVG.drawPictogram();
                    }
                    else {
                        owdiDrought.meadObjectSVG.removePictogram();
                    }
			})
		.offset(1700)
		.setPin('#container10')
		.addTo(window.owdiDrought.SMController)
		.addIndicators();
		
                //highlight user 1
		new ScrollMagic.Scene({
			triggerElement: '#container10',
			duration: 300
		})
		.on("start", function (e) {
                    if (e.scrollDirection === "FORWARD") {
                        owdiDrought.meadObjectSVG.highlightUser(1);
                    }
                    else {
                    }
				
			})
		.offset(2300)
		.setPin('#container10')
		.addTo(window.owdiDrought.SMController)
		.addIndicators();
        
                //highlight user 2
		new ScrollMagic.Scene({
			triggerElement: '#container10',
			duration: 300
		})
		.on("start", function (e) {
                    if (e.scrollDirection === "FORWARD") {
                        owdiDrought.meadObjectSVG.highlightUser(2);
                    }
                    else {
                    }
				
			})
		.offset(2600)
		.setPin('#container10')
		.addTo(window.owdiDrought.SMController)
		.addIndicators();
        
                //highlight user 3
		new ScrollMagic.Scene({
			triggerElement: '#container10',
			duration: 300
		})
		.on("start", function (e) {
                    if (e.scrollDirection === "FORWARD") {
                        owdiDrought.meadObjectSVG.highlightUser(3);
                    }
                    else {
                    }
				
			})
		.offset(2900)
		.setPin('#container10')
		.addTo(window.owdiDrought.SMController)
		.addIndicators();
        
                //highlight user 4
		new ScrollMagic.Scene({
			triggerElement: '#container10',
			duration: 300
		})
		.on("start", function (e) {
                    if (e.scrollDirection === "FORWARD") {
                        owdiDrought.meadObjectSVG.highlightUser(4);
                    }
                    else {
                    }
				
			})
		.offset(3200)
		.setPin('#container10')
		.addTo(window.owdiDrought.SMController)
		.addIndicators();
        
                //highlight user 5
		new ScrollMagic.Scene({
			triggerElement: '#container10',
			duration: 300
		})
		.on("start", function (e) {
                    if (e.scrollDirection === "FORWARD") {
                        owdiDrought.meadObjectSVG.highlightUser(5);
                    }
                    else {
                    }
				
			})
		.offset(3500)
		.setPin('#container10')
		.addTo(window.owdiDrought.SMController)
		.addIndicators();
		//Remove GreyStates, River, Pictogram
		new ScrollMagic.Scene({
			triggerElement: '#container10',
			duration: 600
		})
		.on("start", function (e) {
                    if (e.scrollDirection === "FORWARD") {
                        owdiDrought.meadObjectSVG.removeGreyStates();
			owdiDrought.meadObjectSVG.removeRiver();
			owdiDrought.meadObjectSVG.removePictogram();
                    }
                    else {
                        owdiDrought.meadObjectSVG.resetGreyStates();
                        owdiDrought.meadObjectSVG.drawPictogram();
                        owdiDrought.meadObjectSVG.drawBasin();
                        owdiDrought.meadObjectSVG.showRiver();
                    }
				
			})
		.offset(3800)
		.setPin('#container10')
		.addTo(window.owdiDrought.SMController)
		.addIndicators();
		
		//Move States
		new ScrollMagic.Scene({
			triggerElement: '#container10',
			duration: 600
		})
		.on("start", function (e) {
                    if (e.scrollDirection === "FORWARD") {
                        owdiDrought.meadObjectSVG.moveStates();
                    }
                    else {
                        owdiDrought.meadObjectSVG.resetStates();
                    }
			})
		.offset(4400)
		.setPin('#container10')
		.addTo(window.owdiDrought.SMController)
		.addIndicators()
			
	})();	
</script>