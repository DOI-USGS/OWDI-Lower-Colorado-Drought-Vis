window.U=new Object,"undefined"==typeof window.console&&(window.console={},window.console.log=function(){return null},window.console.warn=function(){return null},window.console.error=function(){return null},window.console.clear=function(){return null}),void 0===U._private&&(U._private={}),U.getScriptPath=function(){var e=document.getElementsByTagName("script"),o=e[e.length-1].src.split("?")[0],a=o.split("/").slice(0,-1).join("/")+"/";return a},U._private.rootPath=U.getScriptPath(),U._private.dependancyUrls=[],"undefined"==typeof jQuery&&U._private.dependancyUrls.push(U._private.rootPath+"../jquery/jquery-1.11.1.min.js"),("undefined"==typeof jQuery||void 0===jQuery.ui)&&U._private.dependancyUrls.push(U._private.rootPath+"../jquery-ui/jquery-ui-1.10.4.custom.min.css",U._private.rootPath+"../jquery-ui/jquery-ui-1.10.4.custom.min.js"),"undefined"==typeof L&&U._private.dependancyUrls.push(U._private.rootPath+"../leaflet/leaflet-0.7.3/leaflet.min.css",U._private.rootPath+"../leaflet/leaflet-0.7.3/leaflet.min.js"),("undefined"==typeof L||void 0===L.esri)&&U._private.dependancyUrls.push(U._private.rootPath+"../leaflet/esri-leaflet-v1.0.0-rc.5/esri-leaflet.js"),("undefined"==typeof L||void 0===L.Control.ZoomHome)&&U._private.dependancyUrls.push(U._private.rootPath+"../leaflet/leaflet-zoom-home/L.Control.ZoomHome.min.css",U._private.rootPath+"../leaflet/leaflet-zoom-home/L.Control.ZoomHome.min.js"),("undefined"==typeof L||void 0===L.control.coordinates)&&U._private.dependancyUrls.push(U._private.rootPath+"../leaflet/Leaflet.Coordinates/Leaflet.Coordinates-0.1.4.css",U._private.rootPath+"../leaflet/Leaflet.Coordinates/Leaflet.Coordinates-0.1.4.min.js"),("undefined"==typeof L||void 0===L.Control.MiniMap)&&U._private.dependancyUrls.push(U._private.rootPath+"../leaflet/Leaflet-MiniMap-master/Control.MiniMap.min.css",U._private.rootPath+"../leaflet/Leaflet-MiniMap-master/Control.MiniMap.min.js"),("undefined"==typeof L||void 0===L.Control.Fullscreen)&&U._private.dependancyUrls.push(U._private.rootPath+"../leaflet/Leaflet.fullscreen-gh-pages/leaflet.fullscreen.css",U._private.rootPath+"../leaflet/Leaflet.fullscreen-gh-pages/Leaflet.fullscreen.min.js"),("undefined"==typeof L||void 0===L.AwesomeMarkers)&&U._private.dependancyUrls.push(U._private.rootPath+"../leaflet/Leaflet.awesome-markers-2.0-develop/font-awesome-4.3.0/css/font-awesome.min.css",U._private.rootPath+"../leaflet/Leaflet.awesome-markers-2.0-develop/leaflet.awesome-markers.css",U._private.rootPath+"../leaflet/Leaflet.awesome-markers-2.0-develop/leaflet.awesome-markers.js"),U._private.dependancyUrls.push(U._private.rootPath+"txwsc-leaflet-utils.css"),U._private.init=function(){var e="U [init]: ";console.log(e+""),U._private.baseUrls={nationalmap_hydro:["http://basemap.nationalmap.gov/arcgis/rest/services/USGSHydroNHD/MapServer/tile/{z}/{y}/{x}"],nationalmap_imagery:["http://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}"],nationalmap_imagery_topo:["http://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryTopo/MapServer/tile/{z}/{y}/{x}"],nationalmap_relief:["http://basemap.nationalmap.gov/arcgis/rest/services/USGSShadedReliefOnly/MapServer/tile/{z}/{y}/{x}"],nationalmap_topo:["http://basemap.nationalmap.gov/ArcGIS/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}"],nationalmap_contours:["http://basemap.nationalmap.gov/arcgis/rest/services/TNM_Contours/MapServer/tile/{z}/{y}/{x}"],nationalmap_fills:["http://basemap.nationalmap.gov/arcgis/rest/services/TNM_Vector_Fills_Small/MapServer/tile/{z}/{y}/{x}"],nationalmap_small:["http://basemap.nationalmap.gov/arcgis/rest/services/TNM_Vector_Small/MapServer/tile/{z}/{y}/{x}"],openstreets:["http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"],carto_base_light:["http://{s}.api.cartocdn.com/base-light/{z}/{x}/{y}.png"],carto_positron1:["http://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png"],carto_positron2:["http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png"],carto_darkMatter1:["http://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png"],carto_darkMatter2:["http://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"],esri_streets:["http://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}"],esri_natgeo:["http://services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}"],esri_ocean:["http://services.arcgisonline.com/ArcGIS/rest/services/Ocean_Basemap/MapServer/tile/{z}/{y}/{x}"],esri_topo:["http://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}"],esri_usatopo:["http://services.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer/tile/{z}/{y}/{x}"],esri_imagery1:["http://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"],esri_imagery2:["http://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}","http://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}"],esri_physical1:["http://services.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}"],esri_physical2:["http://services.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}","http://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}"],esri_relief1:["http://services.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}"],esri_relief2:["http://services.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}","http://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}"],esri_terrain1:["http://services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}"],esri_terrain2:["http://services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}","http://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}"],esri_cites_borders_light:["http://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}"],esri_cites_borders_dark:["http://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}"],esri_reference:["http://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer/tile/{z}/{y}/{x}"],esri_transportation:["http://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}"]},U._private.getBaseUrls=function(e){if(void 0===e)return console.log("[getBaseUrls]: Available basemap names:"),$.each(U._private.baseUrls,function(e){console.log(e)}),0;var o=e.replace(/[^A-Za-z0-9]/g,""),a=U._private.baseUrls.openstreets,i=!1;return $.each(U._private.baseUrls,function(e,t){return e=e.replace(/[^A-Za-z0-9]/g,""),o.toLowerCase()===e.toLowerCase()?(a=t,i=!0):void 0}),i===!1&&console.warn("[getBaseUrls]: Could not find URLs for '"+e+"' - 'openstreets' returned"),a},U.mapOpts={maxBounds:null,minZoom:3,maxZoom:18,zoom:4,center:[39,-97],layers:null,crs:L.CRS.EPSG3857,dragging:!0,touchZoom:!0,scrollWheelZoom:!0,doubleClickZoom:!0,boxZoom:!0,tap:!0,tapTolerance:15,trackResize:!0,worldCopyJump:!0,closePopupOnClick:!1,bounceAtZoomLimits:!0,keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1,inertia:!0,inertiaDeceleration:3e3,inertiaMaxSpeed:1500,zoomControl:!1,attributionControl:!1,zoomAnimationThreshold:4},U._private.popupOpts={maxWidth:500,minWidth:100,maxHeight:null,autoPan:!0,keepInView:!1,closeButton:!0,offset:[0,-10],autoPanPadding:[10,10],zoomAnimation:!0,closeOnClick:null,className:""},U._private.imgMarkerIcon=L.icon({iconUrl:U._private.rootPath+"img/marker-img-icon.png",iconSize:[28,22],iconAnchor:[14,11],popupAnchor:[0,-15]}),U._private.noShowDlgFlags={},U._private.animateMs=400,"function"==typeof U.ready?(console.log(e+"executing 'ready' function"),U.ready()):console.log(e+"no 'ready' function defined")},U.addLogos=function(e){var o="U [addLogos]: ";console.log(o+""),void 0===e&&(e={}),void 0===e.map&&(e.map=U.map),void 0===e.position&&(e.position="topright"),void 0===e.imgUrl&&(e.imgUrl=U._private.rootPath+"img/logo_USGS.png"),void 0===e.imgWidthPx&&(e.imgWidthPx=184),void 0===e.imgAlt&&(e.imgAlt="USGS Logo"),void 0===e.imgTitle&&(e.imgTitle="Go to U.S. Geological Survey (USGS) home page"),void 0===e.imgClickUrl&&(e.imgClickUrl="http://www.usgs.gov/"),void 0===e.fadeInMs&&(e.fadeInMs=2e3),U.map=e.map,e.imgUrl!==U._private.rootPath+"img/logo_USGS.png"&&("USGS Logo"===e.imgAlt&&(e.imgAlt=""),"Go to U.S. Geological Survey (USGS) home page"===e.imgTitle&&(e.imgTitle=""),"http://www.usgs.gov/"===e.imgClickUrl&&(e.imgClickUrl=""));var a=function(e){var o;return o=""!==e.imgClickUrl?"<div class='leaflet-control-logos-img-container'><a href='"+e.imgClickUrl+"' target='_blank'><img src='"+e.imgUrl+"' width='"+e.imgWidthPx+"' alt='"+e.imgAlt+"' title='"+e.imgTitle+"' /></a></div>":"<div class='leaflet-control-logos-img-container'><img src='"+e.imgUrl+"' width='"+e.imgWidthPx+"' alt='"+e.imgAlt+"' title='"+e.imgTitle+"' /></div>"},i=L.Control.extend({options:{position:"topright",imgUrl:U._private.rootPath+"img/logo_USGS.png",imgWidthPx:184,imgAlt:"USGS Logo",imgTitle:"Go to U.S. Geological Survey (USGS) home page",imgClickUrl:"http://www.usgs.gov/"},onAdd:function(){var e=L.DomUtil.create("div","leaflet-control-logos"),o=this.options;return o.imgUrl!==U._private.rootPath+"img/logo_USGS.png"&&("USGS Logo"===o.imgAlt&&(o.imgAlt=""),"Go to U.S. Geological Survey (USGS) home page"===o.imgTitle&&(o.imgTitle=""),"http://www.usgs.gov/"===o.imgClickUrl&&(o.imgClickUrl="")),$(e).html(a(o)),e}});void 0===U.controls&&(U.controls={}),void 0===U.controls.logos?(U.controls.logos=new i({position:e.position,imgUrl:e.imgUrl,imgWidthPx:e.imgWidthPx,imgAlt:e.imgAlt,imgTitle:e.imgTitle,imgClickUrl:e.imgClickUrl}),U.map.addControl(U.controls.logos),$(U.controls.logos.getContainer()).css({opacity:0}).stop().animate({opacity:1},e.fadeInMs)):$(U.controls.logos.getContainer()).prepend(a(e))},U.addMapLayersPicker=function(e,o,a){var i="U [addMapLayersPicker]: ";if(console.log(i+""),void 0===a&&(a={}),void 0===a.position&&(a.position="topright"),void 0===a.collapsed&&(a.collapsed=!0),void 0===a.autoZIndex&&(a.autoZIndex=!0),void 0===a.map&&(a.map=U.map),void 0===a.buttonLabel&&(a.buttonLabel="Map Layers"),void 0===a.basemapsLabel&&(a.basemapsLabel="Basemaps"),void 0===a.overlaysLabel&&(a.overlaysLabel="Overlays"),void 0===a.basemapsInitOpacity&&(a.basemapsInitOpacity=1),void 0===a.overlaysInitOpacity&&(a.overlaysInitOpacity=1),void 0===a.thumbOpacity&&(a.thumbOpacity=.6),void 0===a.fadeInMs&&(a.fadeInMs=2e3),U.map=a.map,e.length+o.length<=0)return console.warn(i+"1 or more 'basemaps' and/or 'overlays' must be defined - not creating mapLayersPicker"),1;var t={};$.each(e,function(e,o){if(void 0!==o.name&&"none"===o.name.toLowerCase()&&(o.name=void 0,o.thumbUrl=U._private.rootPath+"img/thumb_basemap_none.png",o.layer=L.tileLayer(U._private.rootPath+"img/thumb_basemap_none.png"),void 0===o.label&&(o.label="None")),void 0!==o.name){var i=U._private.getBaseUrls(o.name);1===i.length&&i[0]===U._private.baseUrls.openstreets[0]&&(o.name="openstreets");var r=L.layerGroup();$.each(i,function(e,o){r.addLayer(L.tileLayer(o,{opacity:a.basemapsInitOpacity}))}),t["<span class='basemap-span'><div class='picker-thumb "+o.name+"'></div>"+(void 0===o.label?o.name:o.label)+"</span>"]=r}else"function"!=typeof o.layer.eachLayer&&(o.layer=L.layerGroup().addLayer(o.layer)),t["<span class='basemap-span'><div class='picker-thumb'><img src='"+o.thumbUrl+"'/></div>"+o.label+"</span>"]=o.layer});var r={};$.each(o,function(e,o){if(void 0!==o.name){var i=U._private.getBaseUrls(o.name);1===i.length&&i[0]===U._private.baseUrls.openstreets[0]&&(o.name="openstreets");var t=L.layerGroup();$.each(i,function(e,o){t.addLayer(L.tileLayer(o,{opacity:a.overlaysInitOpacity}))}),r["<span class='overlay-span"+(1===o.check?" check":"")+"'><div class='picker-thumb "+o.name+"'></div>"+(void 0===o.label?o.name:o.label)+"</span>"]=t}else"function"!=typeof o.layer.eachLayer&&(o.layer=L.layerGroup().addLayer(o.layer)),r["<span class='overlay-span"+(1===o.check?" check":"")+"'><div class='picker-thumb'><img src='"+o.thumbUrl+"'/></div>"+o.label+"</span>"]=o.layer}),void 0===U.controls&&(U.controls={}),void 0===U.controls.mapLayersPicker&&(U.controls.mapLayersPicker=[]),U.controls.mapLayersPicker.push(L.control.layers(t,r,a)),U.map.addControl(U.controls.mapLayersPicker[U.controls.mapLayersPicker.length-1]);var s=$(U.controls.mapLayersPicker[U.controls.mapLayersPicker.length-1].getContainer());s.find(".leaflet-control-layers-toggle").prop("title","").addClass("picker-button").append("<span class='picker-button-label'>"+a.buttonLabel+"</span>"),s.css({opacity:0}),$.isEmptyObject(t)||(U.layers&&U.layers.basemapLayerGroup&&U.layers.basemapLayerGroup.eachLayer(function(e){e.setOpacity(0)}),s.find(".basemap-span").closest("label").addClass("picker-basemap-item"),s.find(".picker-basemap-item").hover(function(){$(this).not(".selected").find(".picker-thumb").css({border:"2px solid Gold"}).stop().animate({opacity:"1.0"},300)},function(){$(this).not(".selected").find(".picker-thumb").css({border:"2px solid Gray"}).stop().animate({opacity:a.thumbOpacity},300)}).click(function(){return $(this).hasClass("selected")?0:(s.find(".picker-basemap-item").removeClass("selected").find(".picker-thumb").stop().css({border:"2px solid Gray",opacity:a.thumbOpacity}),$(this).addClass("selected").find(".picker-thumb").stop().css({border:"2px solid LimeGreen",opacity:"1.0"}),s.find(".picker-basemap-item.selected").find("*").css({cursor:"default"}),void s.find(".picker-basemap-item").not(".selected").find("*").css({cursor:"pointer"}))}),s.find(".basemap-span").first().find(".picker-thumb").closest(".picker-basemap-item").click(),s.find(".leaflet-control-layers-base").prepend("<span class='picker-header'>"+a.basemapsLabel+"</span>").append("<div class='basemap_slider' style='margin:5px 10px 10px 10px;'></div>"),s.find(".basemap_slider").slider({disabled:!1,orientation:"horizontal",range:!1,animate:"fast",min:0,max:1,step:.05,value:a.basemapsInitOpacity,change:function(e,o){$.each(t,function(e,a){a.eachLayer(function(e){try{e.setOpacity(o.value)}catch(a){}})})},slide:function(e,o){$.each(t,function(e,a){a.eachLayer(function(e){try{e.setOpacity(o.value)}catch(a){}})})}}),s.find(".basemap_slider").add(s.find(".basemap_slider").find("*")).css({cursor:"pointer"})),$.isEmptyObject(r)||(s.find(".overlay-span").closest("label").addClass("picker-overlay-item"),s.find(".picker-overlay-item").mouseenter(function(){$(this).hasClass("selected")?$(this).find(".picker-thumb").css({border:"2px solid LimeGreen"}).stop().animate({opacity:"1.0"},300):$(this).find(".picker-thumb").css({border:"2px solid Gold"}).stop().animate({opacity:"1.0"},300)}).mouseleave(function(){$(this).hasClass("selected")?$(this).find(".picker-thumb").css({border:"2px solid LimeGreen"}).stop().animate({opacity:"1.0"},300):$(this).find(".picker-thumb").css({border:"2px solid Gray"}).stop().animate({opacity:a.thumbOpacity},300)}).mousedown(function(){$(this).hasClass("selected")?$(this).removeClass("selected").find(".picker-thumb").css({border:"2px solid Gold"}).stop().animate({opacity:a.thumbOpacity},300):$(this).addClass("selected").find(".picker-thumb").css({border:"2px solid LimeGreen"}).stop().animate({opacity:"1.0"},300)}),s.find(".picker-overlay-item").removeClass("selected"),s.find(".picker-overlay-item").find(".picker-thumb").css({border:"2px solid Gray",opacity:a.thumbOpacity}),s.find(".picker-overlay-item").find("*").css({cursor:"pointer"}),s.find(".overlay-span").each(function(){$(this).hasClass("check")&&($(this).find(".picker-thumb").closest(".picker-overlay-item").mousedown().click(),$(this).removeClass("check"))}),s.find(".leaflet-control-layers-overlays").prepend("<span class='picker-header'>"+a.overlaysLabel+"</span>").append("<div class='overlays_slider' style='margin:5px 10px 0px 10px;'></div>"),s.find(".overlays_slider").slider({disabled:!1,orientation:"horizontal",range:!1,animate:"fast",min:0,max:1,step:.05,value:a.overlaysInitOpacity,change:function(e,o){$.each(r,function(e,a){a.eachLayer(function(e){try{e.setOpacity(o.value)}catch(a){}})})},slide:function(e,o){$.each(r,function(e,a){a.eachLayer(function(e){try{e.setOpacity(o.value)}catch(a){}})})}}),s.find(".overlays_slider").add(s.find(".overlays_slider").find("*")).css({cursor:"pointer"})),s.find(".leaflet-control-layers-separator").remove(),U.noDragSelect(s),s.stop().animate({opacity:1},a.fadeInMs)},U.addZoomHome=function(e){var o="U [addZoomHome]: ";console.log(o+""),void 0===e&&(e={}),void 0===e.map&&(e.map=U.map),void 0===e.position&&(e.position="topright"),void 0===e.zoomInText&&(e.zoomInText="+"),void 0===e.zoomInTitle&&(e.zoomInTitle="Zoom in"),void 0===e.zoomOutText&&(e.zoomOutText="-"),void 0===e.zoomOutTitle&&(e.zoomOutTitle="Zoom out"),void 0===e.zoomHomeText&&(e.zoomHomeText="H"),void 0===e.zoomHomeTitle&&(e.zoomHomeTitle="Zoom home"),void 0===e.buttonOrder&&(e.buttonOrder=["in","home","out"]),void 0===e.homeGeom&&(e.homeGeom=L.latLngBounds(L.latLng(24,-125),L.latLng(50,-66))),void 0===e.fadeInMs&&(e.fadeInMs=2e3),U.map=e.map,void 0===U.controls&&(U.controls={}),U.controls.zoomHome=new L.Control.ZoomHome({position:e.position,zoomInText:e.zoomInText,zoomInTitle:e.zoomInTitle,zoomOutText:e.zoomOutText,zoomOutTitle:e.zoomOutTitle,zoomHomeText:e.zoomHomeText,zoomHomeTitle:e.zoomHomeTitle,buttonOrder:e.buttonOrder,homeGeom:e.homeGeom}),U.map.addControl(U.controls.zoomHome),$(U.controls.zoomHome.getContainer()).css({opacity:0}).stop().animate({opacity:1},e.fadeInMs)},U.addMouseCoords=function(e){var o="U [addMouseCoords]: ";console.log(o+""),void 0===e&&(e={}),void 0===e.map&&(e.map=U.map),void 0===e.position&&(e.position="bottomleft"),void 0===e.decimals&&(e.decimals=3),void 0===e.decimalSeperator&&(e.decimalSeperator="."),void 0===e.labelTemplateLat&&(e.labelTemplateLat="Lat: {y}&nbsp;"),void 0===e.labelTemplateLng&&(e.labelTemplateLng="Lon: {x}"),void 0===e.useLatLngOrder&&(e.useLatLngOrder=!0),void 0===e.useDMS&&(e.useDMS=!1),void 0===e.enableUserInput&&(e.enableUserInput=!1),void 0===e.centerUserCoordinates&&(e.centerUserCoordinates=!0),void 0===e.fadeInMs&&(e.fadeInMs=2e3),U.map=e.map,void 0===U.controls&&(U.controls={}),U.controls.mouseCoords=L.control.coordinates({position:e.position,decimals:e.decimals,decimalSeperator:e.decimalSeperator,labelTemplateLat:e.labelTemplateLat,labelTemplateLng:e.labelTemplateLng,useLatLngOrder:e.useLatLngOrder,useDMS:e.useDMS,enableUserInput:e.enableUserInput,centerUserCoordinates:e.centerUserCoordinates}),U.map.addControl(U.controls.mouseCoords);var a=$(U.controls.mouseCoords.getContainer());a.css({opacity:0}).stop().animate({opacity:.6},e.fadeInMs);var i={19:"1,128",18:"2,257",17:"4,514",16:"9,028",15:"18,056",14:"36,112",13:"72,224",12:"144,448",11:"288,895",10:"577,791",9:"1,155,581",8:"2,311,162",7:"4,622,325",6:"9,244,649",5:"18,489,298",4:"36,978,597",3:"73,957,194",2:"147,914,388",1:"295,828,775",0:"591,657,551"};a.find(".uiElement.label").prepend("<span id='mouseCoordsScale'></span>"),U.map.on("zoomend",function(){var e=i[this.getZoom()];void 0!==e&&$("#mouseCoordsScale").html("Scale: 1:"+e+"&nbsp;&nbsp;")}),U.map.on("mouseover",function(){a.find(".labelFirst").stop().fadeIn(300)}),U.map.on("mouseout",function(){a.find(".labelFirst").stop().fadeOut(300)}),e.enableUserInput===!0?(a.mouseenter(function(){a.stop().addClass("highlight").stop().animate({opacity:"1.0"},200)}),a.mouseleave(function(){a.stop().removeClass("highlight").stop().animate({opacity:"0.6"},200),U.controls.mouseCoords.collapse()}),a.prop("title","Click to enter a coordinate and a place marker on the map"),a.find(".inputX").prop("title","Enter a longitude (decimal degrees) to place marker on the map"),a.find(".inputY").prop("title","Enter a latitude (decimal degrees) to place marker on the map")):a.css({cursor:"default"}),$("#mouseCoordsScale").html("Scale: 1:"+i[U.map.getZoom()]+"&nbsp;&nbsp;"),a.css({opacity:"0.6"})},U.addScale=function(e){var o="U [addScale]: ";console.log(o+""),void 0===e&&(e={}),void 0===e.map&&(e.map=U.map),void 0===e.position&&(e.position="bottomleft"),void 0===e.maxWidth&&(e.maxWidth=200),void 0===e.metric&&(e.metric=!0),void 0===e.imperial&&(e.imperial=!0),void 0===e.updateWhenIdle&&(e.updateWhenIdle=!1),void 0===e.fadeInMs&&(e.fadeInMs=2e3),U.map=e.map,void 0===U.controls&&(U.controls={}),U.controls.scale=L.control.scale({position:e.position,maxWidth:e.maxWidth,metric:e.metric,imperial:e.imperial,updateWhenIdle:e.updateWhenIdle}),U.map.addControl(U.controls.scale),$(U.controls.scale.getContainer()).css({opacity:0}).stop().animate({opacity:1},e.fadeInMs)},U.addToggleFullScreen=function(e){var o="U [addToggleFullScreen]: ";console.log(o+""),void 0===e&&(e={}),void 0===e.map&&(e.map=U.map),void 0===e.position&&(e.position="topleft"),void 0===e.titleFull&&(e.titleFull="View map in fullscreen"),void 0===e.titleExit&&(e.titleExit="Exit fullscreen mode"),void 0===e.fadeInMs&&(e.fadeInMs=2e3),U.map=e.map,void 0===U.controls&&(U.controls={}),U.controls.toggleFullScreen=new L.Control.Fullscreen({position:e.position,title:{"false":e.titleFull,"true":e.titleExit}}),U.map.addControl(U.controls.toggleFullScreen),U.map.on("fullscreenchange",function(){}),$(U.controls.toggleFullScreen.getContainer()).css({opacity:0}).stop().animate({opacity:1},e.fadeInMs)},U.addInsetMap=function(e){var o="U [addInsetMap]: ";console.log(o+""),void 0===e&&(e={}),void 0===e.map&&(e.map=U.map),void 0===e.name&&(e.name="openstreets"),void 0===e.position&&(e.position="bottomright"),void 0===e.zoomLevelOffset&&(e.zoomLevelOffset=-7),void 0===e.zoomLevelFixed&&(e.zoomLevelFixed=!1),void 0===e.zoomAnimation&&(e.zoomAnimation=!0),void 0===e.toggleDisplay&&(e.toggleDisplay=!0),void 0===e.autoToggleDisplay&&(e.autoToggleDisplay=!1),void 0===e.width&&(e.width=200),void 0===e.height&&(e.height=150),void 0===e.collapsedWidth&&(e.collapsedWidth=18),void 0===e.collapsedHeight&&(e.collapsedHeight=18),void 0===e.fadeInMs&&(e.fadeInMs=2e3),void 0===e.aimingRectOptions&&(e.aimingRectOptions={color:"#ff7800",weight:1,clickable:!0}),void 0===e.shadowRectOptions&&(e.shadowRectOptions={color:"#000000",weight:1,clickable:!0,opacity:0,fillOpacity:0}),U.map=e.map;var a=U._private.getBaseUrls(e.name);a.length>1&&console.warn(o+"basemap '"+e.name+"' has multiple layers - only using 1st layer for inset map"),a=a[0];var i=new L.TileLayer(a,{minZoom:U.map.getMinZoom()+e.zoomLevelOffset,maxZoom:U.map.getMaxZoom()});void 0===U.controls&&(U.controls={}),U.controls.insetMap=new L.Control.MiniMap(i,{position:e.position,toggleDisplay:e.toggleDisplay,zoomLevelOffset:e.zoomLevelOffset,zoomLevelFixed:e.zoomLevelFixed,zoomAnimation:e.zoomAnimation,autoToggleDisplay:e.autoToggleDisplay,width:e.width,height:e.height,collapsedWidth:e.collapsedWidth,collapsedHeight:e.collapsedHeight,aimingRectOptions:e.aimingRectOptions,shadowRectOptions:e.shadowRectOptions}),U.map.addControl(U.controls.insetMap),$(U.controls.insetMap.getContainer()).css({opacity:0}).stop().animate({opacity:1},e.fadeInMs),$(U.controls.insetMap.getContainer()).css({cursor:"move"}),$(".leaflet-control-minimap-toggle-display").prop("title","Show or hide inset map"),U.map.panBy([1,1])},U.changeBaseMap=function(e){var o="U [changeBaseMap]: ";if(void 0===e)return U._private.getBaseUrls(),0;if(console.log(o+""),"string"==typeof e){var a=e;e={},e.name=a}return void 0===e&&(e={}),void 0===e.map&&(e.map=U.map),void 0===e.name&&(e.name="same"),void 0===e.opacity&&(e.opacity=1),U.map=e.map,void 0===U.layers&&(U.layers={}),void 0===U.layers.basemapLayerGroup&&(U.layers.basemapLayerGroup=L.layerGroup(),U.layers.basemapLayerGroup.addTo(U.map)),"same"===e.name.toLowerCase()?(U.layers.basemapLayerGroup.eachLayer(function(o){o.setOpacity(e.opacity),o.bringToFront()}),0):(U.layers.basemapLayerGroup.clearLayers(),"none"===e.name.toLowerCase()?0:($.each(U._private.getBaseUrls(e.name),function(o,a){U.layers.basemapLayerGroup.addLayer(L.tileLayer(a,{opacity:e.opacity}))}),void U.layers.basemapLayerGroup.eachLayer(function(e){e.bringToFront()})))},U.addReferenceMap=function(e){var o="U [addReferenceMap]: ",a=["nationalmap_small","nationalmap_contours","nationalmap_fills","esri_cites_borders_light","esri_cites_borders_dark","esri_reference","esri_transportation"];if(void 0===e)return console.log(o+"available reference maps:"),$.each(a,function(e,o){console.log(o)}),0;if(console.log(o+""),"string"==typeof e){var i=e;e={},e.name=i}if(void 0===e&&(e={}),void 0===e.map&&(e.map=U.map),void 0===e.name&&(e.name=""),void 0===e.opacity&&(e.opacity=1),void 0===e.clear&&(e.clear=!1),U.map=e.map,void 0===U.layers&&(U.layers={}),void 0===U.layers.referenceLayerGroup&&(U.layers.referenceLayerGroup=L.layerGroup(),U.layers.referenceLayerGroup.addTo(U.map)),e.clear===!0&&U.layers.referenceLayerGroup.clearLayers(),""===e.name)return 0;"string"==typeof e.name&&(e.name=[e.name]);var t="";return $.each(e.name,function(e,o){return $.inArray(o,a)<=-1?void(t=o):void 0}),""!==t?(console.warn(o+"invalid reference map name: '"+t+"'"),console.warn(o+"valid reference map names are:"),$.each(a,function(e,o){console.warn(o)}),1):($.each(e.name,function(o,a){U.layers.referenceLayerGroup.addLayer(L.tileLayer(U._private.getBaseUrls(a)[0],{opacity:e.opacity}))}),void U.layers.referenceLayerGroup.eachLayer(function(e){e.bringToFront()}))},U.addEsriTiledMapLayer=function(e,o){var a="U [addEsriTiledMapLayer]: ";console.log(a+""),void 0===o&&(o={}),void 0===o.map&&(o.map=U.map),void 0===o.opacity&&(o.opacity=1),U.map=o.map;var i=L.layerGroup();return $.each(e,function(e,a){i.addLayer(L.esri.tiledMapLayer(a,{opacity:o.opacity}))}),i.addTo(U.map),i},U.addEsriDynamicMapLayer=function(e,o,a){var i="U [addEsriDynamicMapLayer]: ";console.log(i+""),void 0===a&&(a={}),void 0===a.map&&(a.map=U.map),void 0===a.opacity&&(a.opacity=1),U.map=a.map;var t=L.esri.dynamicMapLayer(e,{layers:[o],opacity:a.opacity});return t.addTo(U.map),t},U.addPntMarker=function(e,o){var a="U [addPntMarker]: ";console.log(a+""),void 0===o&&(o={}),void 0===o.map&&(o.map=U.map),void 0===o.markerColor&&(o.markerColor="cadetblue"),void 0===o.icon&&(o.icon=""),void 0===o.iconColor&&(o.iconColor="white"),void 0===o.spin&&(o.spin=!1),void 0===o.extraClasses&&(o.extraClasses=""),void 0===o.popupHtml&&(o.popupHtml=""),U.map=o.map,void 0===U.layers&&(U.layers={}),void 0===U.layers.markers&&(U.layers.markers=new L.FeatureGroup,U.map.addLayer(U.layers.markers));var i=L.marker(e,{clickable:""!==o.popupHtml,icon:L.AwesomeMarkers.icon({prefix:"fa",markerColor:o.markerColor,icon:o.icon,iconColor:o.iconColor,spin:o.spin,extraClasses:o.extraClasses})});""!==o.popupHtml&&(o.popupHtml="<div class='popup-container'>"+o.popupHtml+"</div><div class='popup-actions'>[<a href='#' onclick='javascript: U.map.setView( ["+e[0]+","+e[1]+"], U.map.getMaxZoom(), {animate:true} ); void(0);'>Zoom To</a>]</div>",i.bindPopup(o.popupHtml,U._private.popupOpts)),U.layers.markers.addLayer(i)},U.addInfoMarker=function(e,o){var a="U [addInfoMarker]: ";console.log(a+""),U.addPntMarker(e,{markerColor:"blue",icon:"info",iconColor:"white",spin:!1,extraClasses:"",popupHtml:o})},U.addChartMarker=function(e,o,a){var i="U [addChartMarker]: ";console.log(i+""),U.addPntMarker(e,{markerColor:"red",icon:(void 0===a?"line":a)+"-chart",iconColor:"white",spin:!1,extraClasses:"",popupHtml:o})},U.addImgMarker=function(e,o){var a="U [addImgMarker]: ";console.log(a+""),void 0===o&&(o={}),void 0===o.popupHtml&&(o.popupHtml=""),void 0===o.fullImgUrl&&(o.fullImgUrl=""),void 0===o.fullImgCaption&&(o.fullImgCaption=""),void 0===U.layers&&(U.layers={}),void 0===U.layers.markers&&(U.layers.markers=new L.FeatureGroup,U.map.addLayer(U.layers.markers));var i="javascript: U.map.setView( ["+e[0]+","+e[1]+"], U.map.getMaxZoom(), {animate:true} ); void(0);";if(""===o.fullImgUrl)o.popupHtml="<div class='popup-container'>"+o.popupHtml+"</div><div class='popup-actions'>[<a href='#' onclick='"+i+"'>Zoom To</a>]</div>";else{void 0===U.slideshow&&(U.slideshow={});var t=Object.keys(U.slideshow).length;U.slideshow[t]={idx:t,latLng:e,url:o.fullImgUrl,caption:o.fullImgCaption};var r='javascript: U.map.closePopup(); U.disableUI({ imgUrl    : "'+o.fullImgUrl+'", imgCss    : {"border":"10px solid white"}, caption   : "'+o.fullImgCaption+'",slideshow : true, close     : true }); void(0);';o.popupHtml="<div class='popup-container'>"+o.popupHtml+"</div><div class='popup-actions'>[<a href='#' onclick='"+r+"'>Full Size</a>]&nbsp;&nbsp;&nbsp;[<a href='#' onclick='"+i+"'>Zoom To</a>]</div>"}U.layers.markers.addLayer(L.marker(e,{icon:U._private.imgMarkerIcon}).bindPopup(o.popupHtml,U._private.popupOpts))},U.clearMarkers=function(){var e="U [clearMarkers]: ";console.log(e+""),void 0!==U.layers&&void 0!==U.layers.markers&&U.layers.markers.clearLayers(),U.slideshow={}},U.zoomMarkers=function(e){var o="U [zoomMarkers]: ";console.log(o+""),void 0===e&&(e={}),void 0===e.map&&(e.map=U.map),void 0===e.reset&&(e.reset=!1),void 0===e.animate&&(e.animate=!0),void 0===e.duration&&(e.duration=.25),void 0===e.padding&&(e.padding=[10,10]),void 0===e.maxZoom&&(e.maxZoom=999),U.map=e.map,void 0!==U.layers&&void 0!==U.layers.markers&&U.map.fitBounds(U.layers.markers.getBounds(),e)},U.resetZoomHomeExtent=function(e){var o="U [resetZoomHomeExtent]: ";return console.log(o+""),U.controls&&U.controls.zoomHome?void setTimeout(function(){U.controls.zoomHome.options.homeGeom=void 0===e?U.map.getBounds():L.latLngBounds(e[0],e[1])},1e3):(console.warn(o+"zoomHome control does not exist - cannot reset"),0)},U.popupWindow=function(e,o,a){var i=window.screenLeft?window.screenLeft:window.screenX,t=window.screenTop?window.screenTop:window.screenY,r=i+window.innerWidth/2-o/2,s=t+window.innerHeight/2-a/2,n="";Number(r)&&Number(s)&&(n=",top="+Math.floor(s)+",left="+Math.floor(r));var l=window.open(e,"_blank","toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no,width="+o+",height="+a+n);return l.focus(),l},U.userAlert=function(e,o,a){var i="main [userAlert]: ";if(U._private.noShowDlgFlags[e]===!0)return 0;if(void 0===a&&(a="Story Map"),"string"==typeof o&&(o=[o]),$("#jquery-dialog-content").length<=0&&$("body").append("<div id='jquery-dialog-content'></div>"),$("#jquery-dialog-content").html("<p class='ui-dialog-text'>"+o.join("</p><p class='ui-dialog-text'>")+"</p>").dialog({title:a,minHeight:0,closeOnEscape:!0,closeText:"Close",draggable:!0,resizable:!0,show:{effect:"fade",duration:U._private.animateMs},hide:{effect:"fade",duration:U._private.animateMs},modal:!0,autoOpen:!1,buttons:{OK:function(){$(this).dialog("close")}},open:function(){$(".ui-widget-overlay").hide().fadeIn(U._private.animateMs)},beforeClose:function(){$(".ui-widget-overlay:first").clone().appendTo("body").show().fadeOut(U._private.animateMs,function(){$(this).remove()})}}),$("#ui_dialog_myCheckbox").remove(),void 0!==e){if(void 0===U._private.noShowDlgFlags[e])return console.error(i+"input 'noShowDlgFlagName' is not defined in 'U._private.noShowDlgFlags' - you need to define it"),1;$(".ui-dialog").append('<div id="ui_dialog_myCheckbox" class="ui-dialog-myCheckbox"><input type="checkbox" onclick="javascript: U._private.noShowDlgFlags[\''+e+"']=this.checked;\"/>&nbsp;Do not show this again</div>")}$("#jquery-dialog-content").dialog("open")},U.disableUI=function(e){var o=$("#disableOverlay").length>0;if(void 0===e&&(e={}),void 0===e.disable&&(e.disable=!o),void 0===e.imgUrl&&(e.imgUrl=""),void 0===e.imgCss&&(e.imgCss={border:"none"}),void 0===e.caption&&(e.caption=""),void 0===e.slideshow&&(e.slideshow=!1),void 0===e.close&&(e.close=!0),void 0===e.animateMs&&(e.animateMs=U._private.animateMs),void 0===e.addClass&&(e.addClass=""),e.disable===!0){if(o===!0)return 0;
if($("#disableOverlay").length>0&&$("#disableOverlay").remove(),$("#imgOverlay").length>0&&$("#imgOverlay").remove(),$('<div id="disableOverlay" class="ui-widget-overlay"></div>').hide().appendTo($("body")).addClass(e.addClass).stop().fadeIn(e.animateMs),""!==e.imgUrl){$('<div id="imgOverlay"><img src="'+e.imgUrl+'"/><div class="imgOverlay-caption">'+e.caption+"</div></div>").css({visibility:"hidden",position:"absolute",top:0,left:0,height:"100%",width:"100%","z-index":1e3}).appendTo($("body")),(void 0===U.slideshow||Object.keys(U.slideshow).length<1)&&(e.slideshow=!1);var a=$('<div id="disableUIcontrols"></div>');if(e.slideshow&&a.append('<div id="disableUIprev" class="disableUI-button">Previous Image</div><div id="disableUInext" class="disableUI-button">Next Image</div><div id="disableUImap"  class="disableUI-button">Go to Map Point</div>'),e.close&&a.append('<div id="disableUIclose" class="disableUI-button">Close</div>'),e.slideshow||e.close){var i=function(){var e=void 0,o=$("#imgOverlay img").attr("src");return $.each(Object.keys(U.slideshow).sort(),function(a,i){return U.slideshow[i].url===o?void(e=i):void 0}),parseFloat(e)};a.appendTo($("#imgOverlay")),$("#disableUIprev").click(function(){var e=i()-1;0>e&&(e=0),$("#imgOverlay img").stop().fadeOut(500,function(){$("#imgOverlay .imgOverlay-caption").html(U.slideshow[e].caption),$(this).attr("src",U.slideshow[e].url).stop().fadeIn(500)})}),$("#disableUInext").click(function(){var e=i()+1;e>Object.keys(U.slideshow).length-1&&(e=0),$("#imgOverlay img").stop().fadeOut(500,function(){$("#imgOverlay .imgOverlay-caption").html(U.slideshow[e].caption),$(this).attr("src",U.slideshow[e].url).stop().fadeIn(500)})}),$("#disableUImap").click(function(){U.disableUI({disable:!1}),U.map.setView(U.slideshow[i()].latLng,U.map.getMaxZoom(),{animate:!0})}),$("#disableUIclose").click(function(){U.disableUI({disable:!1})})}$("#imgOverlay img").css(e.imgCss).load(function(){var o=$("#imgOverlay img").height(),a=$("#imgOverlay img").width(),i=.85*$(window).innerHeight()-80,t=.85*$(window).innerWidth();if(o>i){var r=i/o;o=r*o,a=r*a}if(a>t){var r=t/a;a=r*a,o=r*o}$("#imgOverlay").css({position:"absolute",height:Math.round(o),width:Math.round(a),top:"45%",left:"50%","margin-top":"-"+Math.round(o/2)+"px","margin-left":"-"+Math.round(a/2)+"px"}),$("#imgOverlay img").css({height:Math.round(o),width:Math.round(a),margin:"0px",padding:"0px"}),$("#imgOverlay .imgOverlay-caption").css({background:"rgba(255,255,255,0.5)","font-family":"Arial, Helvetica, sans-serif","font-size":"15px",padding:"5px",margin:"0 0 5px 0",width:Math.round(a)+10,"min-height":"0px","max-height":"80px",overflow:"auto"}),$("#disableUIcontrols").css({width:Math.round(a)+20}),"hidden"===$("#imgOverlay").css("visibility")&&$("#imgOverlay").hide().css({visibility:"visible"}).stop().fadeIn(e.animateMs)})}}else{if(o===!1)return 0;$("#disableOverlay").length>0&&$("#disableOverlay").stop().fadeOut(e.animateMs,function(){$(this).remove()}),$("#imgOverlay").length>0&&$("#imgOverlay").stop().fadeOut(e.animateMs,function(){$(this).remove()})}},U.disableLoading=function(e){var o=$("#disableOverlay.disableLoading").length>0;void 0===e&&(e=!o),U.disableUI({disable:e,imgUrl:U._private.rootPath+"img/loading.gif",close:!1,addClass:"disableLoading"})},U.startSlideShow=function(e){return void 0===e&&(e=0),void 0===U.slideshow?(console.warn("there is no U.slideshow object of slide images - doing nothing"),0):(e>Object.keys(U.slideshow).length-1&&(e=Object.keys(U.slideshow).length-1),U.map.closePopup(),void U.disableUI({imgUrl:U.slideshow[e].url,imgCss:{border:"10px solid white"},caption:U.slideshow[e].caption,slideshow:!0,close:!0}))},U.addUsgsFavicon=function(){var e="U [addUsgsFavicon]: ";console.log(e+""),$("head").append("<link rel='icon' type='image/x-icon' href='"+U._private.rootPath+"img/favicon.png' />"),$("head").append("<link rel='icon' type='image/png'    href='"+U._private.rootPath+"img/favicon.png' />")},U.addTooltips=function(e){var o="U [addTooltips]: ";console.log(o+"");var a=$(document);void 0!==e&&(a="string"==typeof e?$("#"+e):e),a.tooltip({content:function(e){e($(this).prop("title"))},show:{effect:"fadeIn",delay:400},hide:{effect:"fadeOut",delay:0},open:function(e,o){$(".ui-tooltip").not(o.tooltip).stop().hide(),setTimeout(function(){o.tooltip.stop().fadeOut(400)},5e3),o.tooltip.click(function(){$(this).stop().fadeOut(200)})}})},U.noDragSelect=function(e){var o="U [noDragSelect]: ";console.log(o+"");var a=$(document);void 0!==e&&(a="string"==typeof e?$("#"+e):e),a.add(a.find("*")).addClass("click-drag-unselectable")},U.okDragSelect=function(e){var o="U [okDragSelect]: ";console.log(o+"");var a=$(document);void 0!==e&&(a="string"==typeof e?$("#"+e):e),a.add(a.find("*")).removeClass("click-drag-unselectable")},U.loadJsCss=function(e,o){var a="U [loadJsCss]: ";if(e.length<=0)return"function"==typeof o?(console.log(a+"done loading - executing doneFunc"),$(document).ready(function(){o()})):console.log(a+"done loading - no doneFunc to execute"),0;var i=e.shift();if(-1!==i.toLowerCase().indexOf(".css",i.length-".css".length)){console.log(a+"loading css: "+i);var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",i),"undefined"!=typeof t&&document.getElementsByTagName("head")[0].appendChild(t),U.loadJsCss(e,o)}else if(-1!==i.toLowerCase().indexOf(".js",i.length-".js".length)){console.log(a+"loading js: "+i);var r=document.createElement("script");r.type="text/javascript",r.src=i;var s=document.getElementsByTagName("head")[0],n=!1;r.onload=r.onreadystatechange=function(){n||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(n=!0,U.loadJsCss(e,o),r.onload=r.onreadystatechange=null,s.removeChild(r))},s.appendChild(r)}else console.warn(a+"url is not .css or .js ("+i+") - doing nothing"),U.loadJsCss(e,o)},U.loadJsCss(U._private.dependancyUrls,function(){U._private.init()});